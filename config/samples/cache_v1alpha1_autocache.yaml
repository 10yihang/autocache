apiVersion: cache.autocache.io/v1alpha1
kind: AutoCache
metadata:
  name: autocache-sample
  namespace: default
spec:
  # Number of cache nodes
  replicas: 3
  
  # Container image
  image: autocache:latest
  imagePullPolicy: IfNotPresent
  
  # Redis protocol port
  port: 6379
  
  # Cluster communication port
  clusterPort: 16379
  
  # Resource requirements
  resources:
    limits:
      cpu: "1"
      memory: 1Gi
    requests:
      cpu: 100m
      memory: 256Mi
  
  # Cache configuration
  config:
    maxMemory: "512mb"
    maxMemoryPolicy: "allkeys-lru"
    databases: 16
  
  # Storage configuration (optional)
  # storage:
  #   enabled: true
  #   storageClassName: "standard"
  #   size: 10Gi
  #   persistenceMode: "RDB"
  
  # Authentication (optional)
  # auth:
  #   enabled: true
  #   passwordSecret: "autocache-password"
  #   passwordKey: "password"
